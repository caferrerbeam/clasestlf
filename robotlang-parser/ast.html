<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arquitectura y AST - RoboLang Parser | Universidad EAM</title>
    <meta name="description" content="Fundamentos del √Årbol de Sintaxis Abstracta (AST) y arquitectura del compilador RoboLang">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/parser-implementation.css">
    <!-- Prism.js CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <header class="section-header">
        <nav class="section-nav">
            <div class="nav-content">
                <a href="index.html" class="nav-home">üè† Inicio</a>
                <div class="nav-sections">
                    <a href="ast.html" class="nav-item active">üèóÔ∏è AST</a>
                    <a href="parsers.html" class="nav-item">‚öôÔ∏è Parsers</a>
                    <a href="main-parser.html" class="nav-item">üéØ Parser Principal</a>
                    <a href="testing.html" class="nav-item">üß™ Testing</a>
                    <a href="gui.html" class="nav-item">üé® GUI</a>
                    <a href="implementation.html" class="nav-item">üéØ Implementaci√≥n</a>
                </div>
            </div>
        </nav>
        <div class="section-title">
            <h1>üèóÔ∏è Arquitectura y AST (√Årbol de Sintaxis Abstracta)</h1>
            <p class="section-subtitle">Fundamentos esenciales antes de implementar parsers</p>
        </div>
    </header>

    <main class="section-content">
        <div class="content-container">
            
            <!-- Introducci√≥n a RoboLang -->
            <section class="content-section">
                <h2>ü§ñ Introducci√≥n a RoboLang</h2>
                <div class="intro-grid">
                    <div class="intro-card">
                        <h3>¬øQu√© es RoboLang?</h3>
                        <p>
                            RoboLang es un <strong>lenguaje de dominio espec√≠fico (DSL)</strong> 
                            dise√±ado para controlar robots de manera intuitiva. Permite 
                            programar movimientos, sensores y estructuras de control.
                        </p>
                        <div class="example-code">
                            <pre><code class="language-java">IF (BATTERY > 20) {
    UP;
    RIGHT;
    PENDOWN;
}</code></pre>
                        </div>
                    </div>
                    <div class="intro-card">
                        <h3>Objetivos del Proyecto</h3>
                        <ul>
                            <li>Comprender an√°lisis sint√°ctico</li>
                            <li>Implementar parsers recursivos</li>
                            <li>Construir √°rboles AST</li>
                            <li>Aplicar patrones de dise√±o</li>
                        </ul>
                    </div>
                </div>
                
                <div class="commands-overview">
                    <h3>Comandos B√°sicos de RoboLang</h3>
                    <div class="commands-grid">
                        <div class="command-group">
                            <h4>üöÄ Movimiento</h4>
                            <code>UP, DOWN, LEFT, RIGHT</code>
                        </div>
                        <div class="command-group">
                            <h4>‚úèÔ∏è L√°piz</h4>
                            <code>PENUP, PENDOWN</code>
                        </div>
                        <div class="command-group">
                            <h4>üì° Sensores</h4>
                            <code>BATTERY, LIGHT, TEMP, DIST, OBSTACLE, BLOCKED</code>
                        </div>
                        <div class="command-group">
                            <h4>üîÑ Control</h4>
                            <code>IF, WHILE, REPEAT</code>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Arquitectura del Compilador -->
            <section class="content-section">
                <h2>üèõÔ∏è Arquitectura del Compilador</h2>
                <div class="architecture-flow">
                    <div class="flow-step">
                        <div class="step-icon">üìù</div>
                        <h3>1. C√≥digo Fuente</h3>
                        <p>Programa RoboLang escrito por el usuario</p>
                        <div class="example-box">
                            <code>IF (BATTERY > 20) { UP; }</code>
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    
                    <div class="flow-step">
                        <div class="step-icon">üî§</div>
                        <h3>2. Lexer (Analizador L√©xico)</h3>
                        <p>Convierte caracteres en tokens</p>
                        <div class="example-box">
                            <code>[IF, LPAREN, BATTERY, GT, NUMBER(20), RPAREN, LBRACE, UP, SEMICOLON, RBRACE]</code>
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    
                    <div class="flow-step highlighted">
                        <div class="step-icon">üå≥</div>
                        <h3>3. Parser (Analizador Sint√°ctico)</h3>
                        <p>Tokens ‚Üí √Årbol AST</p>
                        <div class="example-box">
                            <strong>¬°AQU√ç TRABAJAREMOS!</strong>
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    
                    <div class="flow-step">
                        <div class="step-icon">‚ö°</div>
                        <h3>4. Int√©rprete</h3>
                        <p>Ejecuta las instrucciones del AST</p>
                        <div class="example-box">
                            <code>Robot se mueve hacia arriba</code>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ¬øQu√© es un AST? -->
            <section class="content-section">
                <h2>üå≥ ¬øQu√© es un AST (√Årbol de Sintaxis Abstracta)?</h2>
                
                <div class="ast-explanation">
                    <div class="concept-card">
                        <h3>üìñ Definici√≥n</h3>
                        <p>
                            Un <strong>Abstract Syntax Tree (AST)</strong> es una representaci√≥n 
                            en forma de √°rbol de la estructura sint√°ctica de un programa. 
                            Cada nodo representa una construcci√≥n del lenguaje.
                        </p>
                    </div>
                    
                    <div class="concept-card">
                        <h3>üéØ ¬øPor qu√© "Abstracta"?</h3>
                        <ul>
                            <li><strong>Omite detalles innecesarios:</strong> puntuaci√≥n, espacios</li>
                            <li><strong>Mantiene estructura sem√°ntica:</strong> significado del programa</li>
                            <li><strong>Facilita interpretaci√≥n:</strong> f√°cil de recorrer</li>
                        </ul>
                    </div>
                </div>

                <div class="ast-analogy">
                    <h3>üèóÔ∏è Analog√≠a: Casa vs Planos</h3>
                    <div class="analogy-comparison">
                        <div class="analogy-side">
                            <h4>C√≥digo Fuente = Casa Real</h4>
                            <ul>
                                <li>Todas las paredes, ventanas, puertas</li>
                                <li>Detalles decorativos</li>
                                <li>Colores y texturas</li>
                            </ul>
                        </div>
                        <div class="analogy-arrow">‚âà</div>
                        <div class="analogy-side">
                            <h4>AST = Planos Arquitect√≥nicos</h4>
                            <ul>
                                <li>Estructura esencial</li>
                                <li>Relaciones entre componentes</li>
                                <li>Sin detalles decorativos</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="ast-example">
                    <h3>üìã Ejemplo Visual: C√≥digo ‚Üí Gram√°tica ‚Üí AST</h3>
                    <div class="transformation-example">
                        <div class="code-side">
                            <h4>C√≥digo RoboLang:</h4>
                            <div class="code-block">
                                <pre><code class="language-java">IF (BATTERY > 20) {
    UP;
    RIGHT;
}</code></pre>
                            </div>
                            
                            <h4>üìù Gram√°tica Aplicada:</h4>
                            <div class="bnf-breakdown">
                                <div class="bnf-reference">
                                    <div class="bnf-inline">
                                        <strong>IF Statement:</strong> 
                                        <code>&lt;if_stmt&gt; ::= "IF" "(" &lt;condition&gt; ")" &lt;statement_block&gt;</code>
                                    </div>
                                    <div class="bnf-visual">
                                        <a href="robotlangbnf.html#IfStatement" target="_blank" class="bnf-link">
                                            üìñ Ver diagrama visual
                                        </a>
                                    </div>
                                </div>
                                
                                <div class="bnf-reference">
                                    <div class="bnf-inline">
                                        <strong>Condition:</strong> 
                                        <code>&lt;condition&gt; ::= &lt;comparison&gt;</code>
                                    </div>
                                </div>
                                
                                <div class="bnf-reference">
                                    <div class="bnf-inline">
                                        <strong>Comparison:</strong> 
                                        <code>&lt;comparison&gt; ::= &lt;value&gt; &lt;operator&gt; &lt;value&gt;</code>
                                    </div>
                                </div>
                                
                                <div class="bnf-reference">
                                    <div class="bnf-inline">
                                        <strong>Block:</strong> 
                                        <code>&lt;statement_block&gt; ::= "{" &lt;statement_list&gt; "}"</code>
                                    </div>
                                    <div class="bnf-visual">
                                        <a href="robotlangbnf.html#StatementBlock" target="_blank" class="bnf-link">
                                            üìñ Ver diagrama visual
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ast-side">
                            <h4>AST Resultante con Mapeo:</h4>
                            <div class="ast-tree-mapped">
<pre>
<strong>IfStatementNode</strong> ‚Üê IF statement grammar
‚îú‚îÄ‚îÄ <strong>condition:</strong> ConditionNode ‚Üê condition part
‚îÇ   ‚îî‚îÄ‚îÄ ComparisonExpressionNode ‚Üê comparison 
‚îÇ       ‚îú‚îÄ‚îÄ <strong>left:</strong> NumericSensorNode(BATTERY) ‚Üê value
‚îÇ       ‚îú‚îÄ‚îÄ <strong>operator:</strong> ComparisonOperatorNode(>) ‚Üê operator
‚îÇ       ‚îî‚îÄ‚îÄ <strong>right:</strong> NumberNode(20) ‚Üê value
‚îî‚îÄ‚îÄ <strong>thenBlock:</strong> StatementBlockNode ‚Üê statement_block
    ‚îî‚îÄ‚îÄ <strong>statements:</strong> [
        MovementCommandNode(UP),   ‚Üê simple command
        MovementCommandNode(RIGHT) ‚Üê simple command
    ]
</pre>
                            </div>
                            
                            <div class="mapping-explanation">
                                <h5>üîó Mapeo Gram√°tica ‚Üí Atributos del Nodo:</h5>
                                <ul>
                                    <li><code>&lt;condition&gt;</code> ‚Üí campo <strong>condition</strong> en IfStatementNode</li>
                                    <li><code>&lt;statement_block&gt;</code> ‚Üí campo <strong>thenBlock</strong> en IfStatementNode</li>
                                    <li><code>&lt;value&gt; &lt;operator&gt; &lt;value&gt;</code> ‚Üí campos <strong>left</strong>, <strong>operator</strong>, <strong>right</strong></li>
                                    <li><code>&lt;statement_list&gt;</code> ‚Üí campo <strong>statements</strong> (lista)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bnf-reference">
                    <div class="bnf-inline">
                        <strong>üìù Gram√°tica IF:</strong> 
                        <code>&lt;if_stmt&gt; ::= "IF" "(" &lt;condition&gt; ")" &lt;statement_block&gt;</code>
                    </div>
                    <div class="bnf-visual">
                        <a href="robotlangbnf.html#if_statement" target="_blank" class="bnf-link">
                            üìñ Ver diagrama visual de IF statement
                        </a>
                    </div>
                </div>
            </section>

            <!-- Jerarqu√≠a de Nodos Base -->
            <section class="content-section">
                <h2>üèõÔ∏è Jerarqu√≠a de Nodos Base</h2>
                <p class="section-intro">
                    Todos los nodos del AST heredan de una clase base com√∫n, 
                    organizados en una jerarqu√≠a que refleja la estructura del lenguaje.
                </p>

                <div class="hierarchy-diagram">
                    <div class="node-level level-0">
                        <div class="base-node">
                            <strong>ASTNode</strong>
                            <p>Clase base abstracta</p>
                        </div>
                    </div>
                    
                    <div class="node-level level-1">
                        <div class="derived-node expression">
                            <strong>ExpressionNode</strong>
                            <p>Expresiones y condiciones</p>
                        </div>
                        <div class="derived-node statement">
                            <strong>StatementNode</strong>
                            <p>Comandos y estructuras</p>
                        </div>
                        <div class="derived-node literal">
                            <strong>LiteralNode</strong>
                            <p>Valores primitivos</p>
                        </div>
                        <div class="derived-node command">
                            <strong>CommandNode</strong>
                            <p>Acciones del robot</p>
                        </div>
                    </div>
                    
                    <div class="node-level level-2">
                        <div class="concrete-nodes">
                            <div class="node-group">
                                <h4>Expressions</h4>
                                <ul>
                                    <li>ComparisonExpressionNode</li>
                                    <li>AndExpressionNode</li>
                                    <li>OrExpressionNode</li>
                                    <li>NotExpressionNode</li>
                                </ul>
                            </div>
                            <div class="node-group">
                                <h4>Statements</h4>
                                <ul>
                                    <li>IfStatementNode</li>
                                    <li>WhileStatementNode</li>
                                    <li>RepeatStatementNode</li>
                                    <li>StatementBlockNode</li>
                                </ul>
                            </div>
                            <div class="node-group">
                                <h4>Literals</h4>
                                <ul>
                                    <li>NumberNode</li>
                                    <li>BooleanNode</li>
                                    <li>BooleanSensorNode</li>
                                    <li>NumericSensorNode</li>
                                </ul>
                            </div>
                            <div class="node-group">
                                <h4>Commands</h4>
                                <ul>
                                    <li>MovementCommandNode</li>
                                    <li>PenCommandNode</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="hierarchy-benefits">
                    <h3>üéØ Beneficios de esta Jerarqu√≠a</h3>
                    <div class="benefits-grid">
                        <div class="benefit-card">
                            <h4>üß¨ Reutilizaci√≥n</h4>
                            <p>Comportamiento com√∫n en clase base</p>
                        </div>
                        <div class="benefit-card">
                            <h4>üé® Polimorfismo</h4>
                            <p>Tratar todos los nodos de forma uniforme</p>
                        </div>
                        <div class="benefit-card">
                            <h4>üîß Mantenibilidad</h4>
                            <p>F√°cil agregar nuevos tipos de nodos</p>
                        </div>
                        <div class="benefit-card">
                            <h4>üé™ Visitor Pattern</h4>
                            <p>Operaciones sin modificar nodos</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mapeo Gram√°tica ‚Üí AST -->
            <section class="content-section">
                <h2>üîó Mapeo: Gram√°tica BNF ‚Üí Atributos del AST</h2>
                <p class="section-intro">
                    Cada elemento de la gram√°tica BNF se convierte en un atributo espec√≠fico del nodo AST. 
                    Esta es la clave para entender por qu√© los nodos tienen los campos que tienen.
                </p>

                <div class="mapping-examples">
                    <div class="mapping-example">
                        <h3>üìä Ejemplo 1: NumberNode</h3>
                        <div class="mapping-pair">
                            <div class="grammar-part">
                                <h4>Gram√°tica BNF:</h4>
                                <div class="bnf-reference">
                                    <div class="bnf-inline">
                                        <code>&lt;number&gt; ::= [0-9]+</code>
                                    </div>
                                    <div class="bnf-visual">
                                        <a href="robotlangbnf.html#Number" target="_blank" class="bnf-link">
                                            üìñ Ver diagrama visual
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="node-part">
                                <h4>Nodo AST Resultante:</h4>
                                <div class="node-structure">
<pre><code class="language-java">class NumberNode extends LiteralNode {
    private int <strong>value</strong>;  ‚Üê El valor num√©rico [0-9]+
    
    public NumberNode(int value) {
        this.value = value;
    }
}</code></pre>
                                </div>
                            </div>
                        </div>
                        <div class="mapping-explanation">
                            <p><strong>üí° Explicaci√≥n:</strong> La gram√°tica dice que un n√∫mero es una secuencia de d√≠gitos [0-9]+. 
                            El AST almacena esta secuencia convertida a entero en el atributo <code>value</code>.</p>
                        </div>
                    </div>

                    <div class="mapping-example">
                        <h3>üìä Ejemplo 2: ComparisonExpressionNode</h3>
                        <div class="mapping-pair">
                            <div class="grammar-part">
                                <h4>Gram√°tica BNF:</h4>
                                <div class="bnf-reference">
                                    <div class="bnf-inline">
                                        <code>&lt;comparison&gt; ::= &lt;value&gt; &lt;operator&gt; &lt;value&gt;</code>
                                    </div>
                                    <div class="bnf-visual">
                                        <a href="robotlangbnf.html#Comparison" target="_blank" class="bnf-link">
                                            üìñ Ver diagrama visual
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="node-part">
                                <h4>Nodo AST Resultante:</h4>
                                <div class="node-structure">
<pre><code class="language-java">class ComparisonExpressionNode extends ExpressionNode {
    private ValueNode <strong>left</strong>;      ‚Üê Primer &lt;value&gt;
    private ComparisonOperatorNode <strong>operator</strong>; ‚Üê &lt;operator&gt;
    private ValueNode <strong>right</strong>;     ‚Üê Segundo &lt;value&gt;
    
    public ComparisonExpressionNode(ValueNode left, 
                                   ComparisonOperatorNode operator,
                                   ValueNode right) {
        this.left = left;
        this.operator = operator;
        this.right = right;
    }
}</code></pre>
                                </div>
                            </div>
                        </div>
                        <div class="mapping-explanation">
                            <p><strong>üí° Explicaci√≥n:</strong> La gram√°tica define una comparaci√≥n como <code>valor operador valor</code>. 
                            Cada parte de la gram√°tica se convierte en un atributo del nodo AST: <code>left</code>, <code>operator</code>, <code>right</code>.</p>
                        </div>
                    </div>

                    <div class="mapping-example">
                        <h3>üìä Ejemplo 3: IfStatementNode</h3>
                        <div class="mapping-pair">
                            <div class="grammar-part">
                                <h4>Gram√°tica BNF:</h4>
                                <div class="bnf-reference">
                                    <div class="bnf-inline">
                                        <code>&lt;if_stmt&gt; ::= "IF" "(" &lt;condition&gt; ")" &lt;statement_block&gt;</code>
                                    </div>
                                    <div class="bnf-visual">
                                        <a href="robotlangbnf.html#IfStatement" target="_blank" class="bnf-link">
                                            üìñ Ver diagrama visual
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="node-part">
                                <h4>Nodo AST Resultante:</h4>
                                <div class="node-structure">
<pre><code class="language-java">class IfStatementNode extends StatementNode {
    private ConditionNode <strong>condition</strong>;      ‚Üê &lt;condition&gt;
    private StatementBlockNode <strong>thenBlock</strong>; ‚Üê &lt;statement_block&gt;
    
    public IfStatementNode(ConditionNode condition,
                          StatementBlockNode thenBlock) {
        this.condition = condition;
        this.thenBlock = thenBlock;
    }
}</code></pre>
                                </div>
                            </div>
                        </div>
                        <div class="mapping-explanation">
                            <p><strong>üí° Explicaci√≥n:</strong> La gram√°tica IF tiene partes variables: la condici√≥n entre par√©ntesis y el bloque de c√≥digo. 
                            Los tokens fijos ("IF", "(", ")") no se almacenan porque son predecibles. Solo se guardan las partes que pueden variar.</p>
                        </div>
                    </div>

                    <div class="mapping-example">
                        <h3>üìä Ejemplo 4: StatementBlockNode</h3>
                        <div class="mapping-pair">
                            <div class="grammar-part">
                                <h4>Gram√°tica BNF:</h4>
                                <div class="bnf-reference">
                                    <div class="bnf-inline">
                                        <code>&lt;statement_block&gt; ::= "{" &lt;statement_list&gt; "}"</code>
                                    </div>
                                    <div class="bnf-visual">
                                        <a href="robotlangbnf.html#StatementBlock" target="_blank" class="bnf-link">
                                            üìñ Ver diagrama visual
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="node-part">
                                <h4>Nodo AST Resultante:</h4>
                                <div class="node-structure">
<pre><code class="language-java">class StatementBlockNode extends StatementNode {
    private List&lt;StatementNode&gt; <strong>statements</strong>; ‚Üê &lt;statement_list&gt;
    
    public StatementBlockNode(List&lt;StatementNode&gt; statements) {
        this.statements = statements;
    }
}</code></pre>
                                </div>
                            </div>
                        </div>
                        <div class="mapping-explanation">
                            <p><strong>üí° Explicaci√≥n:</strong> Las llaves "{" y "}" son tokens fijos que no se almacenan. 
                            Solo se guarda la lista de statements que puede variar. Esto hace el AST m√°s limpio y f√°cil de procesar.</p>
                        </div>
                    </div>
                </div>

                <div class="mapping-rules">
                    <h3>üìã Reglas de Mapeo Gram√°tica ‚Üí AST</h3>
                    <div class="rules-grid">
                        <div class="rule-card">
                            <h4>üéØ Regla 1: Tokens Variables</h4>
                            <p>Solo los elementos que <strong>pueden cambiar</strong> se almacenan como atributos.</p>
                            <div class="rule-example">
                                <code>&lt;number&gt;</code> ‚Üí <code>int value</code> (el valor var√≠a)<br>
                                <code>"IF"</code> ‚Üí no se almacena (siempre es "IF")
                            </div>
                        </div>
                        
                        <div class="rule-card">
                            <h4>üîó Regla 2: Sub-reglas</h4>
                            <p>Cada <code>&lt;sub_regla&gt;</code> se convierte en un atributo del tipo correspondiente.</p>
                            <div class="rule-example">
                                <code>&lt;condition&gt;</code> ‚Üí <code>ConditionNode condition</code><br>
                                <code>&lt;statement_block&gt;</code> ‚Üí <code>StatementBlockNode thenBlock</code>
                            </div>
                        </div>
                        
                        <div class="rule-card">
                            <h4>üìù Regla 3: Listas</h4>
                            <p>Elementos repetidos (+, *) se almacenan como <code>List&lt;&gt;</code>.</p>
                            <div class="rule-example">
                                <code>&lt;statement&gt;+</code> ‚Üí <code>List&lt;StatementNode&gt; statements</code>
                            </div>
                        </div>
                        
                        <div class="rule-card">
                            <h4>‚ùì Regla 4: Opcionales</h4>
                            <p>Elementos opcionales (?) pueden ser <code>null</code> o usar Optional.</p>
                            <div class="rule-example">
                                <code>&lt;statement_list&gt;?</code> ‚Üí <code>List&lt;&gt;</code> puede estar vac√≠a
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Ejemplo Completo de Construcci√≥n -->
            <section class="content-section">
                <h2>üõ†Ô∏è Ejemplo Completo de Construcci√≥n AST</h2>
                <p class="section-intro">
                    Veamos paso a paso c√≥mo se transforma el c√≥digo 
                    <code>IF (BATTERY > 20) { UP; }</code> en un √°rbol AST aplicando las reglas de mapeo.
                </p>

                <div class="construction-steps">
                    <!-- Paso 1: C√≥digo Original -->
                    <div class="step-card">
                        <div class="step-header">
                            <span class="step-number">1</span>
                            <h3>C√≥digo Original</h3>
                        </div>
                        <div class="step-content">
                            <div class="code-display">
                                <pre><code class="language-java">IF (BATTERY > 20) { UP; }</code></pre>
                            </div>
                            <p>Programa RoboLang que verifica bater√≠a antes de moverse.</p>
                        </div>
                    </div>

                    <!-- Paso 2: Tokens Generados -->
                    <div class="step-card">
                        <div class="step-header">
                            <span class="step-number">2</span>
                            <h3>Tokens Generados (Lexer)</h3>
                        </div>
                        <div class="step-content">
                            <div class="tokens-display">
                                <div class="token-display">IF</div>
                                <div class="token-display">LPAREN</div>
                                <div class="token-display">BATTERY</div>
                                <div class="token-display">GT</div>
                                <div class="token-display">NUMBER(20)</div>
                                <div class="token-display">RPAREN</div>
                                <div class="token-display">LBRACE</div>
                                <div class="token-display">UP</div>
                                <div class="token-display">SEMICOLON</div>
                                <div class="token-display">RBRACE</div>
                            </div>
                            <p>El lexer convierte el texto en tokens individuales.</p>
                        </div>
                    </div>

                    <!-- Paso 3: Parsing Paso a Paso -->
                    <div class="step-card">
                        <div class="step-header">
                            <span class="step-number">3</span>
                            <h3>Construcci√≥n del AST (Parser)</h3>
                        </div>
                        <div class="step-content">
                            <div class="parsing-phases">
                                <div class="phase">
                                    <h4>3.1 - Reconocer IF Statement</h4>
                                    <p>Parser ve token <code>IF</code> ‚Üí crea <code>IfStatementNode</code></p>
                                    <div class="bnf-reference">
                                        <div class="bnf-inline">
                                            <strong>üìù Gram√°tica:</strong> 
                                            <code>&lt;if_stmt&gt; ::= "IF" "(" &lt;condition&gt; ")" &lt;statement_block&gt;</code>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="phase">
                                    <h4>3.2 - Parsear Condici√≥n</h4>
                                    <p>Entre par√©ntesis: <code>BATTERY > 20</code> ‚Üí <code>ComparisonExpressionNode</code></p>
                                    <div class="sub-parsing">
                                        <ul>
                                            <li><code>BATTERY</code> ‚Üí <code>NumericSensorNode</code></li>
                                            <li><code>></code> ‚Üí <code>ComparisonOperatorNode</code></li>
                                            <li><code>20</code> ‚Üí <code>NumberNode</code></li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="phase">
                                    <h4>3.3 - Parsear Bloque</h4>
                                    <p>Entre llaves: <code>{ UP; }</code> ‚Üí <code>StatementBlockNode</code></p>
                                    <div class="sub-parsing">
                                        <ul>
                                            <li><code>UP</code> ‚Üí <code>MovementCommandNode</code></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Paso 4: AST Final -->
                    <div class="step-card">
                        <div class="step-header">
                            <span class="step-number">4</span>
                            <h3>√Årbol AST Final</h3>
                        </div>
                        <div class="step-content">
                            <div class="final-ast">
<pre class="ast-visualization">
IfStatementNode
‚îú‚îÄ‚îÄ condition: ComparisonExpressionNode
‚îÇ   ‚îú‚îÄ‚îÄ left: NumericSensorNode
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sensorType: "BATTERY"
‚îÇ   ‚îú‚îÄ‚îÄ operator: ComparisonOperatorNode
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ operatorType: "GREATER_THAN"
‚îÇ   ‚îî‚îÄ‚îÄ right: NumberNode
‚îÇ       ‚îî‚îÄ‚îÄ value: 20
‚îî‚îÄ‚îÄ thenBlock: StatementBlockNode
    ‚îî‚îÄ‚îÄ statements: [
        MovementCommandNode
        ‚îî‚îÄ‚îÄ direction: "UP"
    ]
</pre>
                            </div>
                            <div class="ast-properties">
                                <h4>‚ú® Propiedades del AST Resultante:</h4>
                                <ul>
                                    <li><strong>Jer√°rquico:</strong> Estructura de √°rbol clara</li>
                                    <li><strong>Sem√°nticamente correcto:</strong> Refleja la l√≥gica del programa</li>
                                    <li><strong>Navegable:</strong> F√°cil de recorrer para interpretaci√≥n</li>
                                    <li><strong>Extensible:</strong> Puede crecer con m√°s comandos</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Nodos AST Implementados -->
            <section class="content-section">
                <h2>üìÅ Nodos AST Implementados</h2>
                <p class="section-intro">
                    Referencia completa de todos los nodos AST ya implementados 
                    en el proyecto, organizados por categor√≠a.
                </p>

                <div class="nodes-categories">
                    <div class="category-section">
                        <h3>üé≠ Expression Nodes</h3>
                        <div class="nodes-grid">
                            <div class="node-card">
                                <h4>ComparisonExpressionNode</h4>
                                <p><code>src/main/java/parser/ast/expressions/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;comparison&gt; ::= &lt;value&gt; &lt;operator&gt; &lt;value&gt;</code>
                                    <a href="robotlangbnf.html#comparison" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                            <div class="node-card">
                                <h4>AndExpressionNode</h4>
                                <p><code>src/main/java/parser/ast/expressions/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;and_expr&gt; ::= &lt;not_expr&gt; ("AND" &lt;not_expr&gt;)*</code>
                                    <a href="robotlangbnf.html#and_expression" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                            <div class="node-card">
                                <h4>OrExpressionNode</h4>
                                <p><code>src/main/java/parser/ast/expressions/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;or_expr&gt; ::= &lt;and_expr&gt; ("OR" &lt;and_expr&gt;)*</code>
                                    <a href="robotlangbnf.html#or_expression" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                            <div class="node-card">
                                <h4>NotExpressionNode</h4>
                                <p><code>src/main/java/parser/ast/expressions/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;not_expr&gt; ::= "NOT" &lt;primary_expr&gt;</code>
                                    <a href="robotlangbnf.html#not_expression" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>üéØ Statement Nodes</h3>
                        <div class="nodes-grid">
                            <div class="node-card">
                                <h4>IfStatementNode</h4>
                                <p><code>src/main/java/parser/ast/statements/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;if_stmt&gt; ::= "IF" "(" &lt;condition&gt; ")" &lt;statement_block&gt;</code>
                                    <a href="robotlangbnf.html#if_statement" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                            <div class="node-card">
                                <h4>WhileStatementNode</h4>
                                <p><code>src/main/java/parser/ast/statements/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;while_stmt&gt; ::= "WHILE" "(" &lt;condition&gt; ")" &lt;statement_block&gt;</code>
                                    <a href="robotlangbnf.html#while_statement" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                            <div class="node-card">
                                <h4>RepeatStatementNode</h4>
                                <p><code>src/main/java/parser/ast/statements/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;repeat_stmt&gt; ::= "REPEAT" "(" &lt;number&gt; ")" &lt;statement_block&gt;</code>
                                    <a href="robotlangbnf.html#repeat_statement" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>üíé Literal Nodes</h3>
                        <div class="nodes-grid">
                            <div class="node-card">
                                <h4>NumberNode</h4>
                                <p><code>src/main/java/parser/ast/literals/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;number&gt; ::= [0-9]+</code>
                                    <a href="robotlangbnf.html#number" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                            <div class="node-card">
                                <h4>BooleanNode</h4>
                                <p><code>src/main/java/parser/ast/literals/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;boolean&gt; ::= "true" | "false"</code>
                                    <a href="robotlangbnf.html#boolean" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ü§ñ Command Nodes</h3>
                        <div class="nodes-grid">
                            <div class="node-card">
                                <h4>MovementCommandNode</h4>
                                <p><code>src/main/java/parser/ast/commands/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;movement_command&gt; ::= "UP" | "DOWN" | "LEFT" | "RIGHT"</code>
                                    <a href="robotlangbnf.html#movement_command" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                            <div class="node-card">
                                <h4>PenCommandNode</h4>
                                <p><code>src/main/java/parser/ast/commands/</code></p>
                                <div class="bnf-reference">
                                    <code>&lt;pen_command&gt; ::= "PENUP" | "PENDOWN"</code>
                                    <a href="robotlangbnf.html#pen_command" target="_blank" class="bnf-link">üìñ Ver</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Patr√≥n de Dise√±o Composite -->
            <section class="content-section">
                <h2>üé® Patr√≥n de Dise√±o: Composite Pattern</h2>
                <p class="section-intro">
                    El AST implementa el patr√≥n Composite, permitiendo tratar 
                    nodos individuales y compuestos de manera uniforme.
                </p>

                <div class="pattern-explanation">
                    <div class="pattern-card">
                        <h3>üéØ Concepto del Composite Pattern</h3>
                        <p>
                            Permite componer objetos en estructuras de √°rbol para 
                            representar jerarqu√≠as parte-todo. Los clientes pueden 
                            tratar objetos individuales y composiciones uniformemente.
                        </p>
                    </div>

                    <div class="pattern-benefits">
                        <h3>‚ú® Beneficios en el AST</h3>
                        <ul>
                            <li><strong>Uniformidad:</strong> Todos los nodos se comportan igual</li>
                            <li><strong>Recursividad:</strong> F√°cil navegaci√≥n del √°rbol</li>
                            <li><strong>Flexibilidad:</strong> Agregar nuevos tipos de nodos</li>
                            <li><strong>Interpretaci√≥n:</strong> Visitor pattern para operaciones</li>
                        </ul>
                    </div>
                </div>

                <div class="pattern-example">
                    <h3>üíª Implementaci√≥n en RoboLang</h3>
                    <div class="code-example">
<pre><code class="language-java">// Clase base - Component
public abstract class ASTNode {
    public abstract void accept(ASTVisitor visitor);
    public abstract &lt;T&gt; T accept(ASTVisitor&lt;T&gt; visitor);
}

// Nodo hoja - Leaf
public class NumberNode extends LiteralNode {
    private int value;
    
    public void accept(ASTVisitor visitor) {
        visitor.visit(this);
    }
}

// Nodo compuesto - Composite
public class IfStatementNode extends StatementNode {
    private ConditionNode condition;
    private StatementBlockNode thenBlock;
    
    public void accept(ASTVisitor visitor) {
        condition.accept(visitor);  // Delega a hijos
        thenBlock.accept(visitor);  // Delega a hijos
        visitor.visit(this);
    }
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- Navegaci√≥n -->
            <section class="navigation-section">
                <div class="nav-card completed">
                    <h3>‚úÖ Has completado: Arquitectura y AST</h3>
                    <p>
                        Ahora comprendes los fundamentos del AST y la arquitectura 
                        del compilador. Es momento de aprender c√≥mo se construyen los parsers.
                    </p>
                </div>
                <div class="nav-actions">
                    <a href="index.html" class="btn btn-secondary">‚Üê Volver al Inicio</a>
                    <a href="parsers.html" class="btn btn-primary">
                        Siguiente: Parsers
                        <span class="btn-arrow">‚Üí</span>
                    </a>
                </div>
            </section>
        </div>
    </main>

    <script src="js/script.js"></script>
    <!-- Prism.js JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>