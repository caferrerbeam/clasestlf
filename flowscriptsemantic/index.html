<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowScript - Arquitectura del Compilador</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Highlight.js para resaltado de sintaxis -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/java.min.js"></script>
</head>
<body>
    <nav class="sidebar">
        <div class="logo">
            <h1>FlowScript</h1>
            <p>DocumentaciÃ³n TÃ©cnica del Compilador</p>
        </div>

        <div class="nav-section">
            <h3>ğŸ  Inicio</h3>
            <a href="#overview" class="nav-link">VisiÃ³n General</a>
            <a href="#architecture" class="nav-link">Arquitectura</a>
            <a href="#pipeline" class="nav-link">Pipeline de CompilaciÃ³n</a>
        </div>

        <div class="nav-section">
            <h3>ğŸ“ Literales</h3>
            <a href="#integer-literal" class="nav-link">IntegerLiteral</a>
            <a href="#decimal-literal" class="nav-link">DecimalLiteral</a>
            <a href="#string-literal" class="nav-link">StringLiteral</a>
            <a href="#boolean-literal" class="nav-link">BooleanLiteral</a>
            <a href="#null-literal" class="nav-link">NullLiteral</a>
            <a href="#list-literal" class="nav-link">ListLiteral</a>
            <a href="#object-literal" class="nav-link">ObjectLiteral</a>
        </div>

        <div class="nav-section">
            <h3>ğŸ”¢ Expresiones BÃ¡sicas</h3>
            <a href="#identifier" class="nav-link">Identifier</a>
            <a href="#function-call" class="nav-link">FunctionCall</a>
            <a href="#property-access" class="nav-link">PropertyAccess</a>
            <a href="#index-access" class="nav-link">IndexAccess</a>
        </div>

        <div class="nav-section">
            <h3>â• Expresiones Binarias</h3>
            <a href="#additive-expression" class="nav-link">AdditiveExpression</a>
            <a href="#multiplicative-expression" class="nav-link">MultiplicativeExpression</a>
            <a href="#relational-expression" class="nav-link">RelationalExpression</a>
            <a href="#equality-expression" class="nav-link">EqualityExpression</a>
            <a href="#logical-and-expression" class="nav-link">LogicalAndExpression</a>
            <a href="#logical-or-expression" class="nav-link">LogicalOrExpression</a>
        </div>

        <div class="nav-section">
            <h3>ğŸ”„ Expresiones Especiales</h3>
            <a href="#unary-expression" class="nav-link">UnaryExpression</a>
            <a href="#ternary-expression" class="nav-link">TernaryExpression</a>
            <a href="#postfix-expression" class="nav-link">PostfixExpression</a>
        </div>

        <div class="nav-section">
            <h3>ğŸ—„ï¸ Operaciones Especiales</h3>
            <a href="#db-execute" class="nav-link">db.ejecutar()</a>
            <a href="#db-query" class="nav-link">db.consultar()</a>
            <a href="#http-get" class="nav-link">http.get()</a>
            <a href="#http-post" class="nav-link">http.post()</a>
            <a href="#http-delete" class="nav-link">http.delete()</a>
        </div>

        <div class="nav-section">
            <h3>ğŸ”€ Control de Flujo</h3>
            <a href="#if-statement" class="nav-link">IfStatement</a>
            <a href="#while-statement" class="nav-link">WhileStatement</a>
            <a href="#for-statement" class="nav-link">ForStatement</a>
            <a href="#for-range-statement" class="nav-link">ForRangeStatement</a>
            <a href="#try-statement" class="nav-link">TryStatement</a>
            <a href="#return-statement" class="nav-link">ReturnStatement</a>
            <a href="#throw-statement" class="nav-link">ThrowStatement</a>
            <a href="#break-statement" class="nav-link">BreakStatement</a>
            <a href="#continue-statement" class="nav-link">ContinueStatement</a>
        </div>

        <div class="nav-section">
            <h3>ğŸ“¦ Declaraciones</h3>
            <a href="#program" class="nav-link">Program</a>
            <a href="#function-declaration" class="nav-link">FunctionDeclaration</a>
            <a href="#variable-declaration" class="nav-link">VariableDeclaration</a>
            <a href="#import-declaration" class="nav-link">ImportDeclaration</a>
        </div>

        <div class="nav-section">
            <h3>ğŸ­ Procesos BPMN</h3>
            <a href="#process-declaration" class="nav-link">ProcessDeclaration</a>
            <a href="#start-element" class="nav-link">StartElement</a>
            <a href="#end-element" class="nav-link">EndElement</a>
            <a href="#task-element" class="nav-link">TaskElement</a>
            <a href="#exclusive-gateway" class="nav-link">ExclusiveGateway</a>
            <a href="#parallel-gateway" class="nav-link">ParallelGateway</a>
            <a href="#goto-statement" class="nav-link">GotoStatement</a>
        </div>

        <div class="nav-section" style="background: rgba(251, 191, 36, 0.1); border-left: 4px solid #fbbf24; padding: 1rem; margin-top: 1rem;">
            <h3>ğŸš€ GuÃ­as Avanzadas</h3>
            <a href="generacion-codigo-avanzada.html" class="nav-link" style="color: #fbbf24; font-weight: 600;">
                ğŸ“– GeneraciÃ³n de CÃ³digo Avanzada
            </a>
            <p style="font-size: 0.85rem; color: #a0aec0; margin-top: 0.5rem; line-height: 1.4;">
                ExplicaciÃ³n profunda de Gateways BPMN y MÃ©todos Especiales (DB/HTTP)
            </p>
        </div>
    </nav>

    <main class="content">
        <section id="overview" class="doc-section">
            <h1>ğŸ—ï¸ Arquitectura del Compilador FlowScript</h1>
            <p class="subtitle">DocumentaciÃ³n tÃ©cnica exhaustiva de la implementaciÃ³n del compilador</p>

            <div class="info-box">
                <h3>ğŸ“š Acerca de esta DocumentaciÃ³n</h3>
                <p>Esta documentaciÃ³n explica el <strong>CÃ“MO</strong> (implementaciÃ³n tÃ©cnica), no el <strong>QUÃ‰</strong> (funcionalidad).</p>
                <p>Para cada nodo AST, encontrarÃ¡s:</p>
                <ul>
                    <li>ğŸ“– Regla gramatical que lo genera</li>
                    <li>ğŸŒ³ Estructura del nodo AST</li>
                    <li>ğŸ” AnÃ¡lisis semÃ¡ntico aplicado</li>
                    <li>âš™ï¸ GeneraciÃ³n de cÃ³digo Java</li>
                    <li>ğŸ’¡ Ejemplos de cÃ³digo FlowScript â†’ Java</li>
                </ul>
            </div>

            <div class="info-box" style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(245, 158, 11, 0.15)); border-left: 4px solid #fbbf24; margin-top: 2rem;">
                <h3>ğŸš€ DocumentaciÃ³n Avanzada</h3>
                <p style="font-size: 1.1rem; margin-bottom: 1rem;">
                    Â¿Quieres entender a fondo cÃ³mo se generan <strong>Gateways BPMN</strong> y <strong>MÃ©todos Especiales</strong> (DB/HTTP)?
                </p>
                <a href="generacion-codigo-avanzada.html" style="display: inline-block; background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #1e1e1e; padding: 1rem 2rem; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: transform 0.2s; box-shadow: 0 4px 12px rgba(251, 191, 36, 0.3);">
                    ğŸ“– Ir a GeneraciÃ³n de CÃ³digo Avanzada â†’
                </a>
                <p style="margin-top: 1rem; font-size: 0.95rem; color: #a0aec0;">
                    ExplicaciÃ³n ultra-detallada del cÃ³digo del generador con ejemplos paso a paso, patrones Java avanzados, y el patrÃ³n Lambda IIFE.
                </p>
            </div>
        </section>

        <section id="architecture" class="doc-section">
            <h2>ğŸ›ï¸ Arquitectura General</h2>

            <div class="architecture-diagram">
                <div class="arch-box">
                    <h4>1ï¸âƒ£ AnÃ¡lisis LÃ©xico</h4>
                    <p><code>Lexer</code></p>
                    <p>FlowScript â†’ Tokens</p>
                </div>
                <div class="arrow">â†’</div>
                <div class="arch-box">
                    <h4>2ï¸âƒ£ AnÃ¡lisis SintÃ¡ctico</h4>
                    <p><code>Parser</code></p>
                    <p>Tokens â†’ AST</p>
                </div>
                <div class="arrow">â†’</div>
                <div class="arch-box">
                    <h4>3ï¸âƒ£ AnÃ¡lisis SemÃ¡ntico</h4>
                    <p><code>SemanticAnalyzer</code></p>
                    <p>AST â†’ AST Validado</p>
                </div>
                <div class="arrow">â†’</div>
                <div class="arch-box">
                    <h4>4ï¸âƒ£ GeneraciÃ³n de CÃ³digo</h4>
                    <p><code>CodeGenerator</code></p>
                    <p>AST â†’ Java</p>
                </div>
            </div>

            <h3>Componentes Principales</h3>
            <div class="component-grid">
                <div class="component-card">
                    <h4>ğŸ”¤ Lexer</h4>
                    <p><code>com.flowscript.lexer.Lexer</code></p>
                    <p>Tokenizador basado en AFD (AutÃ³matas Finitos Deterministas)</p>
                </div>
                <div class="component-card">
                    <h4>ğŸ“Š Parser</h4>
                    <p><code>com.flowscript.sintactic.Parser</code></p>
                    <p>Parser recursivo descendente</p>
                </div>
                <div class="component-card">
                    <h4>ğŸ” Semantic Analyzer</h4>
                    <p><code>com.flowscript.semantic.analyzer.SemanticAnalyzer</code></p>
                    <p>PatrÃ³n Visitor para anÃ¡lisis semÃ¡ntico</p>
                </div>
                <div class="component-card">
                    <h4>âš™ï¸ Code Generator</h4>
                    <p><code>com.flowscript.codegen.CodeGenerator</code></p>
                    <p>Generador de cÃ³digo Java</p>
                </div>
            </div>
        </section>

        <section id="pipeline" class="doc-section">
            <h2>ğŸ”„ Pipeline de CompilaciÃ³n</h2>

            <div class="pipeline-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3>TokenizaciÃ³n</h3>
                    <div class="code-example">
                        <div class="code-label">FlowScript</div>
                        <pre><code>funcion suma(a: entero, b: entero) -> entero {
    retornar a + b
}</code></pre>
                    </div>
                    <div class="arrow-down">â†“</div>
                    <div class="code-example">
                        <div class="code-label">Tokens</div>
                        <pre><code>[KEYWORD(funcion), IDENTIFIER(suma), LPAREN, IDENTIFIER(a),
 COLON, KEYWORD(entero), COMMA, IDENTIFIER(b), COLON,
 KEYWORD(entero), RPAREN, ARROW, KEYWORD(entero), LBRACE,
 KEYWORD(retornar), IDENTIFIER(a), PLUS, IDENTIFIER(b),
 RBRACE]</code></pre>
                    </div>
                </div>
            </div>

            <div class="pipeline-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3>Parsing (AST)</h3>
                    <div class="code-example">
                        <div class="code-label">Abstract Syntax Tree</div>
                        <pre><code>FunctionDeclarationNode
â”œâ”€ name: "suma"
â”œâ”€ parameters: [
â”‚   ParameterNode(name: "a", type: "entero"),
â”‚   ParameterNode(name: "b", type: "entero")
â”‚  ]
â”œâ”€ returnType: "entero"
â””â”€ body: BlockNode
    â””â”€ ReturnStatementNode
        â””â”€ AdditiveExpressionNode
            â”œâ”€ left: IdentifierNode("a")
            â”œâ”€ operator: "+"
            â””â”€ right: IdentifierNode("b")</code></pre>
                    </div>
                </div>
            </div>

            <div class="pipeline-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3>AnÃ¡lisis SemÃ¡ntico</h3>
                    <div class="validation-list">
                        <div class="validation-item">âœ“ ValidaciÃ³n de tipos</div>
                        <div class="validation-item">âœ“ VerificaciÃ³n de declaraciones</div>
                        <div class="validation-item">âœ“ AnÃ¡lisis de alcance (scope)</div>
                        <div class="validation-item">âœ“ ValidaciÃ³n de retornos</div>
                    </div>
                </div>
            </div>

            <div class="pipeline-step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h3>GeneraciÃ³n de CÃ³digo</h3>
                    <div class="code-example">
                        <div class="code-label">Java Generado</div>
                        <pre><code>public static int suma(int a, int b)
{
    System.out.println("[ENTRADA] suma(a, b)");
    return a + b;
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- AquÃ­ irÃ¡n todas las secciones de nodos individuales -->
        <div id="nodes-content"></div>
    </main>

    <script src="script.js"></script>
    <script src="nodes-data.js"></script>
    <script src="nodes-complete.js"></script>
    <script src="render-nodes.js"></script>
</body>
</html>
