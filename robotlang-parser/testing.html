<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing - EjecuciÃ³n de Pruebas | RoboLang Parser</title>
    <meta name="description" content="CÃ³mo ejecutar y entender los tests implementados en src/test del proyecto RoboLang">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/parser-implementation.css">
    <!-- Prism.js CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <header class="section-header">
        <nav class="section-nav">
            <div class="nav-content">
                <a href="index.html" class="nav-home">ğŸ  Inicio</a>
                <div class="nav-sections">
                    <a href="ast.html" class="nav-item">ğŸ—ï¸ AST</a>
                    <a href="parsers.html" class="nav-item">âš™ï¸ Parsers</a>
                    <a href="testing.html" class="nav-item active">ğŸ§ª Testing</a>
                    <a href="gui.html" class="nav-item">ğŸ¨ GUI</a>
                    <a href="implementation.html" class="nav-item">ğŸ¯ ImplementaciÃ³n</a>
                </div>
            </div>
        </nav>
        <div class="section-title">
            <h1>ğŸ§ª Tests Implementados</h1>
            <p class="section-subtitle">EjecuciÃ³n y anÃ¡lisis de las pruebas del proyecto</p>
        </div>
    </header>

    <main class="section-content">
        <div class="content-container">
            
            <!-- IntroducciÃ³n a los Tests del Proyecto -->
            <section class="content-section">
                <h2>ğŸ“‚ Tests Existentes en el Proyecto</h2>
                <p class="section-intro">
                    El proyecto RoboLang incluye una suite completa de tests JUnit 5 ubicados en <code>src/test/</code>. 
                    Estos tests validan tanto el analizador lÃ©xico como los parsers implementados.
                </p>

                <div class="test-structure">
                    <div class="structure-card">
                        <h3>ğŸ—‚ï¸ Estructura de Tests</h3>
                        <div class="directory-tree">
                            <code>src/test/java/</code>
                            <div class="tree-level">
                                <code>â”œâ”€â”€ edu/eam/ingesoft/tlf/</code>
                                <div class="tree-sublevel">
                                    <code>â”‚   â”œâ”€â”€ GenericGrammarTest.java</code><br>
                                    <code>â”‚   â””â”€â”€ RoboLangReflectionTest.java</code>
                                </div>
                                <code>â”œâ”€â”€ lexer/</code>
                                <div class="tree-sublevel">
                                    <code>â”‚   â”œâ”€â”€ RoboLangLexerTest.java</code><br>
                                    <code>â”‚   â”œâ”€â”€ RoboLangLexerIntegrationTest.java</code><br>
                                    <code>â”‚   â””â”€â”€ matchers/ (6 tests de tokens)</code>
                                </div>
                                <code>â””â”€â”€ parser/</code>
                                <div class="tree-sublevel">
                                    <code>    â”œâ”€â”€ ParserTest.java</code><br>
                                    <code>    â””â”€â”€ parsers/ (14 tests de parsers)</code>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="structure-card">
                        <h3>ğŸ¯ TecnologÃ­as de Testing</h3>
                        <ul>
                            <li><strong>JUnit 5:</strong> Framework principal de testing</li>
                            <li><strong>Maven Surefire:</strong> Plugin para ejecutar tests</li>
                            <li><strong>Assertions estÃ¡ndar:</strong> assertEquals, assertNotNull, assertThrows</li>
                            <li><strong>Setup/Teardown:</strong> @BeforeEach para inicializaciÃ³n</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Ejecutar Tests -->
            <section class="content-section">
                <h2>ğŸš€ CÃ³mo Ejecutar los Tests</h2>
                <p class="section-intro">
                    El proyecto usa Maven como herramienta de build. Puedes ejecutar los tests de varias maneras.
                </p>

                <div class="execution-methods">
                    <div class="method-card">
                        <h3>ğŸ’» LÃ­nea de Comandos</h3>
                        <div class="command-section">
                            <h4>Ejecutar todos los tests:</h4>
                            <pre class="command-block"><code>mvn test</code></pre>
                            
                            <h4>Ejecutar tests con mÃ¡s informaciÃ³n:</h4>
                            <pre class="command-block"><code>mvn test -X</code></pre>
                            
                            <h4>Ejecutar un test especÃ­fico:</h4>
                            <pre class="command-block"><code>mvn test -Dtest=BooleanParserTest</code></pre>
                            
                            <h4>Ejecutar tests de una categorÃ­a:</h4>
                            <pre class="command-block"><code>mvn test -Dtest="parser.parsers.*Test"</code></pre>
                        </div>
                    </div>

                    <div class="method-card">
                        <h3>ğŸ”§ IDEs Populares</h3>
                        <div class="ide-instructions">
                            <div class="ide-section">
                                <strong>IntelliJ IDEA:</strong>
                                <ul>
                                    <li>Click derecho en <code>src/test/</code> â†’ "Run All Tests"</li>
                                    <li>Click derecho en un test especÃ­fico â†’ "Run TestName"</li>
                                    <li>Usar el panel "Run" para ver resultados detallados</li>
                                </ul>
                            </div>
                            
                            <div class="ide-section">
                                <strong>Eclipse:</strong>
                                <ul>
                                    <li>Click derecho en proyecto â†’ "Run As" â†’ "JUnit Test"</li>
                                    <li>Ver resultados en la vista "JUnit"</li>
                                </ul>
                            </div>
                            
                            <div class="ide-section">
                                <strong>VS Code:</strong>
                                <ul>
                                    <li>Instalar extensiÃ³n "Java Test Runner"</li>
                                    <li>Usar el panel lateral "Testing"</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="test-output">
                    <h3>ğŸ“Š Interpretando la Salida</h3>
                    <div class="output-example">
                        <h4>Ejemplo de Salida Exitosa:</h4>
                        <pre class="output-block success"><code>[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running parser.parsers.BooleanParserTest
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 23, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] BUILD SUCCESS</code></pre>
                    </div>
                    
                    <div class="output-example">
                        <h4>Ejemplo de Test Fallido:</h4>
                        <pre class="output-block error"><code>[ERROR] Tests run: 5, Failures: 1, Errors: 0, Skipped: 0
[ERROR] Failures: 
[ERROR] testParseTrue(parser.parsers.BooleanParserTest)
[ERROR]   Expected: true
[ERROR]   Actual: false</code></pre>
                    </div>
                </div>
            </section>

            <!-- AnÃ¡lisis de Tests EspecÃ­ficos -->
            <section class="content-section">
                <h2>ğŸ” AnÃ¡lisis de Tests Implementados</h2>
                <p class="section-intro">
                    Veamos cÃ³mo estÃ¡n estructurados los tests existentes para entender los patrones de testing.
                </p>

                <div class="test-analysis">
                    <div class="test-category">
                        <h3>ğŸ”¤ Tests de Lexer</h3>
                        <div class="test-examples">
                            <div class="test-file">
                                <h4>ğŸ“„ RoboLangLexerTest.java</h4>
                                <div class="test-content">
                                    <p><strong>PropÃ³sito:</strong> Validar tokenizaciÃ³n completa</p>
                                    <div class="test-methods">
                                        <span class="method">testTokenizeSimpleProgram()</span>
                                        <span class="method">testTokenizeComplexExpression()</span>
                                        <span class="method">testTokenizeWithComments()</span>
                                    </div>
                                    <div class="test-pattern">
                                        <strong>PatrÃ³n:</strong>
                                        <pre><code class="language-java">String input = "UP; DOWN;";
List&lt;Token&gt; tokens = lexer.tokenize(input);
assertEquals(4, tokens.size());
assertEquals(TokenType.COMMAND_UP, tokens.get(0).getType());</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="test-file">
                                <h4>ğŸ“„ matchers/NumberMatcherTest.java</h4>
                                <div class="test-content">
                                    <p><strong>PropÃ³sito:</strong> Validar reconocimiento de nÃºmeros</p>
                                    <div class="test-methods">
                                        <span class="method">testMatchSingleDigit()</span>
                                        <span class="method">testMatchMultipleDigits()</span>
                                        <span class="method">testNoMatchLetter()</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="test-category">
                        <h3>âš™ï¸ Tests de Parsers</h3>
                        <div class="test-examples">
                            <div class="test-file">
                                <h4>ğŸ“„ BooleanParserTest.java</h4>
                                <div class="test-content">
                                    <p><strong>PropÃ³sito:</strong> Validar parsing de valores booleanos</p>
                                    <div class="test-methods">
                                        <span class="method success">testParseTrue() âœ…</span>
                                        <span class="method success">testParseFalse() âœ…</span>
                                        <span class="method warning">testParseNonBooleanThrowsException() âš ï¸</span>
                                    </div>
                                    <div class="test-pattern">
                                        <strong>PatrÃ³n AAA (Arrange-Act-Assert):</strong>
                                        <pre><code class="language-java">// Arrange
String input = "true";
List&lt;Token&gt; tokens = lexer.tokenize(input);
ParseContext context = new ParseContext(tokens);

// Act
BooleanNode result = parser.parse(context);

// Assert
assertNotNull(result);
assertTrue(result.getValue());</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="test-file">
                                <h4>ğŸ“„ MovementCommandParserTest.java</h4>
                                <div class="test-content">
                                    <p><strong>PropÃ³sito:</strong> Validar parsing de comandos de movimiento</p>
                                    <div class="test-methods">
                                        <span class="method success">testParseUpCommand() âœ…</span>
                                        <span class="method success">testParseDownCommand() âœ…</span>
                                        <span class="method success">testParseLeftCommand() âœ…</span>
                                        <span class="method success">testParseRightCommand() âœ…</span>
                                        <span class="method warning">testParseInvalidCommandThrowsException() âš ï¸</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="test-category">
                        <h3>ğŸ—ï¸ Tests de IntegraciÃ³n</h3>
                        <div class="test-examples">
                            <div class="test-file">
                                <h4>ğŸ“„ RoboLangLexerIntegrationTest.java</h4>
                                <div class="test-content">
                                    <p><strong>PropÃ³sito:</strong> Validar flujo completo de tokenizaciÃ³n</p>
                                    <div class="test-methods">
                                        <span class="method">testCompleteProgram()</span>
                                        <span class="method">testNestedStatements()</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Patrones de Testing -->
            <section class="content-section">
                <h2>ğŸ¯ Patrones de Testing Implementados</h2>
                <p class="section-intro">
                    Los tests del proyecto siguen patrones establecidos de testing. AquÃ­ los patrones mÃ¡s importantes.
                </p>

                <div class="testing-patterns">
                    <div class="pattern-card">
                        <h3>âœ… Tests de Casos VÃ¡lidos</h3>
                        <p>Validan que el parser funciona correctamente con entrada vÃ¡lida.</p>
                        <div class="pattern-example">
                            <strong>Ejemplo:</strong>
                            <pre><code class="language-java">@Test
public void testParseTrue() throws ParseException {
    String input = "true";
    // ... tokenizaciÃ³n ...
    BooleanNode result = parser.parse(context);
    
    assertNotNull(result);
    assertTrue(result.getValue());
    assertEquals("Boolean(true)", result.getNodeType());
}</code></pre>
                        </div>
                    </div>

                    <div class="pattern-card">
                        <h3>âŒ Tests de Casos InvÃ¡lidos</h3>
                        <p>Validan que el parser lanza excepciones apropiadas con entrada invÃ¡lida.</p>
                        <div class="pattern-example">
                            <strong>Ejemplo:</strong>
                            <pre><code class="language-java">@Test
public void testParseNonBooleanThrowsException() {
    String input = "UP";  // No es un booleano
    // ... tokenizaciÃ³n ...
    
    assertThrows(ParseException.class, () -&gt; {
        parser.parse(context);
    });
}</code></pre>
                        </div>
                    </div>

                    <div class="pattern-card">
                        <h3>ğŸ”„ Tests de Estado del Context</h3>
                        <p>Validan que el parser actualiza correctamente la posiciÃ³n en los tokens.</p>
                        <div class="pattern-example">
                            <strong>Ejemplo:</strong>
                            <pre><code class="language-java">@Test
public void testParseBooleanUpdatesContext() throws ParseException {
    String input = "true UP";
    // ... setup ...
    
    assertEquals(TokenType.BOOLEAN_TRUE, context.getCurrentToken().getType());
    parser.parse(context);
    assertEquals(TokenType.COMMAND_UP, context.getCurrentToken().getType());
}</code></pre>
                        </div>
                    </div>

                    <div class="pattern-card">
                        <h3>ğŸ—ï¸ Tests de Estructura del AST</h3>
                        <p>Validan que el parser construye correctamente los nodos del AST.</p>
                        <div class="pattern-example">
                            <strong>Ejemplo:</strong>
                            <pre><code class="language-java">@Test
public void testParseUpCommand() throws ParseException {
    // ... setup ...
    MovementCommandNode result = parser.parse(context);
    
    assertEquals("UP", result.getCommand());
    assertEquals(TokenType.COMMAND_UP, result.getCommandType());
    assertEquals("MovementCommand(UP)", result.getNodeType());
}</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cobertura de Tests -->
            <section class="content-section">
                <h2>ğŸ“Š Cobertura de Tests Actual</h2>
                <p class="section-intro">
                    Estado actual de los tests implementados en el proyecto.
                </p>

                <div class="coverage-overview">
                    <div class="coverage-stats">
                        <div class="stat-card">
                            <div class="stat-number">23+</div>
                            <div class="stat-label">Tests Totales</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">14</div>
                            <div class="stat-label">Tests de Parsers</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">8</div>
                            <div class="stat-label">Tests de Lexer</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">3</div>
                            <div class="stat-label">Tests de IntegraciÃ³n</div>
                        </div>
                    </div>

                    <div class="coverage-details">
                        <h3>ğŸ¯ Tests de Parsers Existentes</h3>
                        <div class="parser-tests-grid">
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">BooleanParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">NumberParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">MovementCommandParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">BooleanSensorParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">NumericSensorParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">PenCommandParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">SimpleCommandParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">ComparisonExpressionParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">AndExpressionParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">OrExpressionParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">IfStatementParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">WhileStatementParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">RepeatStatementParserTest</span>
                            </div>
                            <div class="test-status implemented">
                                <span class="status-icon">âœ…</span>
                                <span class="test-name">ParserTest</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Debuggear Tests -->
            <section class="content-section">
                <h2>ğŸ› Debugging de Tests</h2>
                <p class="section-intro">
                    TÃ©cnicas para debuggear cuando los tests fallan.
                </p>

                <div class="debugging-techniques">
                    <div class="technique-card">
                        <h3>ğŸ” AnÃ¡lisis de Fallos</h3>
                        <div class="debugging-steps">
                            <div class="step">
                                <strong>1. Leer el mensaje de error completo</strong>
                                <p>Los tests de JUnit proporcionan informaciÃ³n detallada sobre quÃ© se esperaba vs. quÃ© se obtuvo.</p>
                            </div>
                            <div class="step">
                                <strong>2. Verificar la tokenizaciÃ³n</strong>
                                <p>Muchos errores vienen de tokens mal formados. Imprime los tokens generados.</p>
                                <pre><code class="language-java">System.out.println("Tokens: " + tokens);</code></pre>
                            </div>
                            <div class="step">
                                <strong>3. Verificar el estado del contexto</strong>
                                <p>AsegÃºrate de que el contexto estÃ© en la posiciÃ³n correcta.</p>
                                <pre><code class="language-java">System.out.println("Current token: " + context.getCurrentToken());</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="technique-card">
                        <h3>ğŸ› ï¸ Herramientas de Debug</h3>
                        <ul>
                            <li><strong>Breakpoints:</strong> Usa el debugger del IDE para pausar en lÃ­neas especÃ­ficas</li>
                            <li><strong>System.out.println:</strong> Imprime valores intermedios</li>
                            <li><strong>Logs de Maven:</strong> Usa <code>mvn test -X</code> para ver logs detallados</li>
                            <li><strong>Tests individuales:</strong> Ejecuta un solo test para aislar el problema</li>
                        </ul>
                    </div>

                    <div class="technique-card">
                        <h3>âš¡ EjecuciÃ³n Selectiva</h3>
                        <div class="selective-commands">
                            <div class="command-example">
                                <strong>Un test especÃ­fico:</strong>
                                <pre><code class="language-bash">mvn test -Dtest=BooleanParserTest#testParseTrue</code></pre>
                            </div>
                            <div class="command-example">
                                <strong>Una clase de test:</strong>
                                <pre><code class="language-bash">mvn test -Dtest=BooleanParserTest</code></pre>
                            </div>
                            <div class="command-example">
                                <strong>Tests de parsers Ãºnicamente:</strong>
                                <pre><code class="language-bash">mvn test -Dtest="parser.parsers.*Test"</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Recomendaciones -->
            <section class="content-section">
                <h2>ğŸ’¡ Recomendaciones de Uso</h2>
                <p class="section-intro">
                    Mejores prÃ¡cticas para trabajar con los tests del proyecto.
                </p>

                <div class="recommendations">
                    <div class="recommendation-card">
                        <h3>ğŸ”„ Desarrollo Iterativo</h3>
                        <ul>
                            <li>Ejecuta los tests despuÃ©s de cada cambio en el cÃ³digo</li>
                            <li>Comienza implementando parsers que ya tienen tests</li>
                            <li>Usa los tests como especificaciÃ³n de comportamiento</li>
                            <li>Si un test falla, lee el cÃ³digo del test para entender quÃ© espera</li>
                        </ul>
                    </div>

                    <div class="recommendation-card">
                        <h3>ğŸ“š Aprendizaje</h3>
                        <ul>
                            <li>Estudia los tests existentes antes de implementar parsers nuevos</li>
                            <li>Los tests muestran cÃ³mo usar ParseContext y crear nodos AST</li>
                            <li>Observa los patrones de manejo de excepciones</li>
                            <li>Nota cÃ³mo se valida el estado del contexto despuÃ©s del parsing</li>
                        </ul>
                    </div>

                    <div class="recommendation-card">
                        <h3>ğŸ¯ Testing de Parsers Nuevos</h3>
                        <ul>
                            <li>Crea tests para tus nuevos parsers siguiendo los patrones existentes</li>
                            <li>Incluye casos vÃ¡lidos, invÃ¡lidos y lÃ­mite</li>
                            <li>Valida tanto el resultado como el estado del contexto</li>
                            <li>Usa nombres descriptivos para los mÃ©todos de test</li>
                        </ul>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <script src="js/script.js"></script>
    <!-- Prism.js JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>